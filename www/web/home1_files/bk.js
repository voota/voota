if(!Blueknow){var Blueknow={}}Blueknow.Cookies={set:function(_1,_2,_3){document.cookie=_1+"="+encodeURI(_2)+";path=/"+((_3===null)?"":";max-age="+(60*60*24*_3))},get:function(_4){if(document.cookie.length>0){var _5=document.cookie.indexOf(_4+"=");if(_5!==-1){_5=_5+_4.length+1;var _6=document.cookie.indexOf(";",_5);if(_6===-1){_6=document.cookie.length}return decodeURI(document.cookie.substring(_5,_6))}}return""},exists:function(_7){if(document.cookie.length>0){var _8=document.cookie.indexOf(_7+"=");return _8!==-1}return false}};Blueknow.Generator={uuid:function(_9){return(_9===null||_9===undefined?"BK":_9)+"-"+Math.round(Math.random()*new Date().getTime())}};Blueknow.Validator={REQUIRED:"isSet",ALPHANUMERIC:"isAlphanumeric",INTEGER:"isInteger",FLOAT:"isFloat",URL:"isURL",CURRENCY:"isCurrency",LANGUAGE:"isLanguage",isSet:function(_a){if(_a===null||_a===undefined){return false}if(_a.constructor===String&&Blueknow.StringUtils.trim(_a).length===0){return false}if(_a.constructor===Array&&_a.length===0){return false}return true},isAlphanumeric:function(_b){if(_b===null||_b===undefined){return true}return _b.toString().match(/^\w+$/)!==null},isInteger:function(_c){if(_c===null||_c===undefined){return true}return _c.toString().match(/^\d+$/)!==null},isFloat:function(_d){if(_d===null||_d===undefined){return true}return _d.toString().match(/^\d+([\.\,]\d+)?$/)!==null},isURL:function(_e){if(_e===null||_e===undefined){return true}return _e.toString().match(/^https?:\/\/\w+/)!==null},isBKNumber:function(_f){if(_f===null||_f===undefined){return false}return _f.toString().match(/^BK-\d{12}-\d+$/)!==null},isCurrency:function(_10){return Blueknow.Currency[_10]?true:false},isLanguage:function(_11){return Blueknow.Language[_11]?true:false}};Blueknow.StringUtils={trim:function(str){return this.ltrim(this.rtrim(str))},ltrim:function(str){if(str===null||str===undefined){return""}var _14="\\s";return str.toString().replace(new RegExp("^["+_14+"]+","g"),"")},rtrim:function(str){if(str===null||str===undefined){return""}var _16="\\s";return str.toString().replace(new RegExp("["+_16+"]+$","g"),"")},toFloat:function(str){if(str===null||str===undefined){return null}if(str.constructor===String&&Blueknow.Validator.isFloat(str)){return str.toString().replace(",",".")}return str}};Blueknow.Currency={EUR:"EUR",EURO:"EUR",USD:"USD",DOLLAR:"USD",GBP:"GBP",POUND:"GBP"};Blueknow.Language={CA:"CA",CATALAN:"CA",ES:"ES",SPANISH:"ES",EN:"EN",ENGLISH:"EN",FR:"FR",FRENCH:"FR",IT:"IT",ITALIAN:"IT",PT:"PT",PORTUGUESE:"PT",DE:"DE",GERMAN:"DE",NL:"NL",DUTCH:"NL"};Blueknow.getTracker=function(_18){if(!Blueknow.Validator.isBKNumber(_18)){throw new Error("BK number has not set or is invalid")}return new Blueknow.Tracker(_18)};Blueknow.Tracker=function(_19){var _1a=Blueknow.Validator;var _1b=Blueknow.Cookies;var _1c=Blueknow.Generator;var _1d=Blueknow.StringUtils;var _1e=encodeURIComponent;if(!_1a.isBKNumber(_19)){throw new Error("BK number has not set or is invalid")}var _1f={name:"BKTC",version:"1.1.1",http:"http://tracker.blueknow.com/_bk.gif?",https:"https://tracker.blueknow.com/_bk.gif?",charset:"UTF-8",c_aui:"_bkaui",c_uid:"_bkuid",c_pur:"_bkpur",c_days:365*10};var _20={evt:"evt",tmc:"tmc",chs:"chs",bkn:"bkn",ref:"ref",aui:"aui",uid:"uid",ver:"ver",pid:"pid",pna:"pna",pde:"pde",pli:"pli",pim:"pim",ppr:"ppr",cur:"cur",lng:"lng",oid:"oid",oto:"oto",otx:"otx",osh:"osh",oci:"oci",ost:"ost",oco:"oco",pqu:"pqu",pra:"pra",pre:"pre",err:"err"};var _21={visited:{code:"vis",name:"visited",props:{pid:{code:_20.pid,validations:[_1a.REQUIRED]},pna:{code:_20.pna,validations:[_1a.REQUIRED]},pde:{code:_20.pde,validations:[]},pli:{code:_20.pli,validations:[_1a.REQUIRED,_1a.URL]},pim:{code:_20.pim,validations:[_1a.REQUIRED,_1a.URL]},ppr:{code:_20.ppr,validations:[_1a.REQUIRED,_1a.FLOAT]},cur:{code:_20.cur,validations:[_1a.CURRENCY]},lng:{code:_20.lng,validations:[_1a.LANGUAGE]}}},clicked:{code:"cli",name:"clicked",props:{pid:{code:_20.pid,validations:[_1a.REQUIRED]}}},purchased:{code:"pur",name:"purchased",props:{oid:{code:_20.oid,validations:[_1a.REQUIRED]},oto:{code:_20.oto,validations:[_1a.REQUIRED,_1a.FLOAT]},cur:{code:_20.cur,validations:[_1a.CURRENCY]},otx:{code:_20.otx,validations:[_1a.FLOAT]},osh:{code:_20.osh,validations:[_1a.FLOAT]},oci:{code:_20.oci,validations:[]},ost:{code:_20.ost,validations:[]},oco:{code:_20.oco,validations:[]},pid:{code:_20.pid,validations:[_1a.REQUIRED]},ppr:{code:_20.ppr,validations:[_1a.REQUIRED,_1a.FLOAT]},pqu:{code:_20.pqu,validations:[_1a.REQUIRED,_1a.INTEGER]}}},examined:{code:"exa",name:"examined",props:{pid:{code:_20.pid,validations:[_1a.REQUIRED]}}}};var _22={isSet:"req",isAphanumeric:"alp",isInteger:"int",isFloat:"flo",isURL:"url",isCurrency:"iso",isLanguage:"iso"};var _23=("https:"===window.parent.location.protocol?true:false);var _24=(_23?_1f.https:_1f.http);var _25=_19;var _26=(_23?"https://":"http://")+(document.domain?document.domain:"unknown.blueknow.com");var _27=_1f.charset;var _28=(navigator.appName==="Microsoft Internet Explorer")?2000:8000;var _tx={items:[],errors:""};var _2a;var _2b=Blueknow.Currency.EURO;var _2c=Blueknow.Language.SPANISH;var _2d=function(){if(!_2a){if(_1b.exists(_1f.c_aui)){_2a=_1b.get(_1f.c_aui);_1b.set(_1f.c_aui,_2a,_1f.c_days)}else{_2a=_1c.uuid(_25);_1b.set(_1f.c_aui,_2a,_1f.c_days)}}return _2a};var _2e=function(){return _1b.get(_1f.c_uid)};var _2f=function(_30){var now=(new Date()).getTime();return{evt:_30,tmc:now,chs:_27,bkn:_25,ref:_26,aui:_2d(),uid:_2e(),ver:_1f.version}};var _32=function(_33,_34){var _35="";for(var x in _33){if(_35.length>0){_35+="&"}_35+=_20[x]+"="+_1e(_33[x])}for(var y in _34){_35+="&"+_20[y]+"="+_1e(_34[y]?_34[y]:"")}return _35};var _38=function(_39){var _3a="";for(var x in _39){if(!_39[x]){continue}if(_39[x].constructor===Array){_3a+="&"+x+"="+_1e(_39[x].join("|"))}else{_3a+="&"+x+"="+_1e(_39[x])}}return _3a};var _3c=function(_3d){var _3e="";for(var i=0;i<_3d.length;i=i+1){_3e+="&p"+(i.toString().length===1?"0":"")+i+"=";var _40=0;for(var x in _3d[i]){if(_40>0){_3e+="%7C"}_40=_40+1;_3e+=_1e(_3d[i][x])}}return _3e};var _42=function(_43,_44){var _45="";for(var x in _44){var _47=_21[_43].props[x].validations;for(var i=0;i<_47.length;i=i+1){var _49=_1a[_47[i]](_44[x]);if(!_49){if(_45.length>0){_45+="&"}_45+=_20.err+"="+_22[_47[i]]+"|"+_20[x];break}}}return _45.length===0?"":_45+"&"};var _4a=function(_4b){var _4c="";for(var x in _4b){var _4e=_21.purchased.props[x].validations;for(var i=0;i<_4e.length;i=i+1){var _50=_1a[_4e[i]](_4b[x]);if(!_50){if(_4c.length>0){_4c+="&"}_4c+=_20.err+"="+_22[_4e[i]]+"|"+_20[x]+"|p"+(_tx.items.length.toString().length===1?"0":"")+_tx.items.length;break}}}return _4c.length===0?"":_4c+"&"};var _51=function(_52){var _53="";if(_52.length===0){_53=_20.err+"=npr"}return _53.length===0?"":_53+"&"};var _54=function(_55){if(_1b.exists(_1f.c_pur)){var _56=_1b.get(_1f.c_pur);var _57=_56.split("|");for(var i=0;i<_57.length;i=i+1){if(_55===_57[i]){return true}}_56+="|"+_55;_1b.set(_1f.c_pur,_56,null)}else{_1b.set(_1f.c_pur,_55,null)}return false};var _59=function(_5a){var url=_24+_5a;if(url.length>_28){url=_24+_20.err+"=lev&"+_5a.substring(0,_28-100)}var _5c=new Image(1,1);_5c.src=url;_5c.onload=function(){};_5c.onerror=function(){};return url};var _5d=function(_5e,_5f,fn){var old=_5e[_5f];_5e[_5f]=function(){var _62=arguments[arguments.length-1];if(fn.length===arguments.length&&(_62===null||_62.constructor===Object)){return fn.apply(this,arguments)}else{if(typeof old==="function"){return old.apply(this,arguments)}else{return fn.apply(this,arguments)}}}};var _63=function(_64,_65){var _66=_42(_21.visited.name,_64);var _67=_32(_2f(_21.visited.code),_64);var _68=_38(_65);var _69=_59(_66+_67+_68)};_5d(this,"trackVisited",function(_6a,_6b,_6c,_6d,_6e,_6f,_70){var _71={pid:_6a,pna:_6b,pli:_6d,pim:_6e,ppr:_1d.toFloat(_6f),lng:_2c,cur:_2b,pde:_6c};var _72=_63(_71,_70)});_5d(this,"trackVisited",function(_73,_74,_75,_76,_77,_78){var _79={pid:_73,pna:_74,pli:_76,pim:_77,ppr:"0.0",lng:_2c,cur:_2b,pde:_75};var _7a=_63(_79,_78)});this.trackClicked=function(_7b){var _7c={pid:_7b};var _7d=_42(_21.clicked.name,_7c);var _7e=_32(_2f(_21.clicked.code),_7c);var _7f=_59(_7d+_7e)};this.addItem=function(id,_81,_82){var _83={pid:id,ppr:_1d.toFloat(_81),pqu:_82};var _84=_4a(_83);_tx.errors+=_84;_tx.items.push(_83)};this.trackPurchased=function(_85,_86,tax,_88,_89,_8a,_8b){if(!_54(_85)){var _8c={oid:_85,oto:_1d.toFloat(_86),cur:_2b,otx:_1d.toFloat(tax),osh:_1d.toFloat(_88),oci:_89,ost:_8a,oco:_8b};var _8d=_42(_21.purchased.name,_8c);_8d=_51(_tx.items)+_8d;var _8e=_32(_2f(_21.purchased.code),_8c);var _8f=_3c(_tx.items);var _90=_59(_8d+_tx.errors+_8e+_8f);_tx.items=[];_tx.errors=""}else{}};this.trackExamined=function(_91){var _92={pid:_91};var _93=_42(_21.examined.name,_92);var _94=_32(_2f(_21.examined.code),_92);var _95=_59(_93+_94)};this.setCurrency=function(_96){_2b=_96};this.setLanguage=function(_97){_2c=_97}}